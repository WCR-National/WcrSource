<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.2.2' type='text/css' media='all' />
    <link rel="icon" href="../../favicon.ico">
    <link href="css/bootstrap.min.css" rel="stylesheet">   
    <link href="css/layout.css" type="text/css" rel="stylesheet">
  
    <title></title>
</head>
<body>
    <form class="user-info-form">
        <div class="container" id="divtop">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 toplogo searchbar topsearch ">
                    <div class="input-group">
                       
                    </div>
                </div>
                
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 text-right topbar dropdown" style="position:relative; padding-top:26px;" id="divaccount">
                    <a href="#" data-toggle="modal" data-target="#choose-login"> Sign In </a>
                    <a href="" data-toggle="modal" data-target="#choose"> Create Account </a>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-right topbar " style="position:relative" id="divconsumer">
                    <input id="btnLogout" type="button" value="Log out" />
                    <input id="btnMyProfile" type="button" value="Profile" />
                    <input id="btnMyHistory" type="button" value="My History" />
                </div>
            </div>
        </div>
        <div class="modal fade" id="choose-login" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel"> <span> </span> Login </h4>
                    </div>
                    <div class="modal-body form-horizontal">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="form-group">
                                <input type="radio" name="associate" value="Associate" id="associate" />  <label class="forget-pass">Associate</label> <input type="radio" name="associate" value="consumer" id="consumer" />  <label class="forget-pass">Consumer</label>
                            </div>
                            <div class="form-group">
                                <input type="text" id="username" class="form-control" maxlength="50" placeholder="Enter User Name or mobile or email id">
                            </div>
                            <div class="form-group">
                                <input type="password" id="password" class="form-control" maxlength="10" placeholder="Enter Password">
                            </div>
                            <div class="form-group">
                                <label class="forget-pass"> <a href="#"> Forgot Password </a> </label>
                                <input id="btnLogin" type="button" class="btn btn-danger pull-right" value="Login" /><!--<input id="btnConsumerLogin" type="button" class="btn btn-danger pull-right" value="Consumer Login" />-->
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="modal-footer text-center"> Don't Have an Account <a href="#" data-toggle="modal" data-dismiss="modal" data-target="#choose"> Sign Up</a> </div>
                </div>
            </div>
        </div>


        <div class="modal fade" id="associate-signup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content stepwizard-outer">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 id="myModalLabel" class="modal-title"> <span> Associate </span> Account </h4>
                        <div class="clearfix"></div>
                        <div class="stepwizard fullrow">
                            <div class=" setup-panel stepwizard-row ">
                                <div class="stepwizard-step col-lg-4 col-md-4 col-sm-4 col-xs-12 " id="f">
                                    <a class="btn btn-circle btn-default btn-primary" type="button" href="#step-1"></a>
                                    <p>User Profile</p>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-body form-horizontal">
                        <div class="fullrow">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="row setup-content" id="step-1">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <div class="form-group">
                                            <a href="#" id="coponc" style="text-decoration:none;">Do you have Coupon Code</a>
                                            <input type="text" class="form-control" id="CouponCode" style="width:220px" placeholder="Enter Coupon Code"> &nbsp;&nbsp;&nbsp;&nbsp;<a id="coponApply" style="text-decoration:none;">Apply</a>
                                            <label style="visibility: hidden" for="lblcouponCode">0</label><br />
                                            <label style="visibility: hidden" for="lblDiscount">0</label>
                                            <label style="visibility: hidden" for="lblDuration">0</label><br />
                                        </div>
                                        <div class="form-group">
                                            <input type="text" class="form-control" id="FirstName" placeholder="Enter First Name">
                                        </div>
                                        <!--<div class="form-group">
                                        <input type="text" class="form-control" id="lstName" placeholder="Enter Last Name">
                                    </div>-->
                                        <div class="form-group">
                                            <input type="text" class="form-control" id="emailAddress" maxlength="50" placeholder="Enter Email Address">
                                        </div>
                                        <div class="form-group">
                                            <input type="password" class="form-control" id="passwrd" maxlength="10" placeholder="Enter Password">
                                        </div>
                                        <div class="form-group">
                                            <input type="password" class="form-control" id="Cpassword" maxlength="10" placeholder="Confirm Password">
                                        </div>
                                        <!--<div class="form-group">
                                        <input type="text" class="form-control" id="userID" maxlength="10" placeholder="User Name">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="mobile" maxlength="15" placeholder="Enter Conact Number">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="zipcode" maxlength="5" placeholder="Enter Zipcode">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="licenceState" placeholder="Enter Licence State">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="licenceID" placeholder="Enter Licence ID">
                                    </div>
                                    <div class="form-group">
                                        Upload Photo      <input type="file" id="FileUploadAssociate" />
                                    </div>-->
                                        <div class="form-group text-right">
                                            <input type="hidden" class="form-control" id="lblAssociateID">
                                            <div class="input-group-btn"> <!--<a class="btn btn-info"> Step 1 of 3 </a>--> <input id="btnFstStep" type="button" class="btn btn-danger" value="Next" />   <!--<a class="btn btn-danger nextBtn"> Next <i class="fa fa-angle-double-right"></i> </a>--> </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>


        <div class="modal fade" id="consumer-signup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content stepwizard-outer">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 id="myModalLabel" class="modal-title"> <span> Consumer </span> Account </h4>
                        <div class="clearfix"></div>
                        <div class="stepwizard fullrow">

                            <div class=" setup-panel stepwizard-row  ">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="ConsmerName"  placeholder="Enter Full Name">
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" id="ConsmerEmail" maxlength="50" placeholder="Enter Email Address">
                                </div>
                                <!--<div class="form-group">
                                <input type="text" class="form-control" id="ConsmerMob" placeholder="Enter Conact Number">
                            </div>-->
                                <div class="form-group">
                                    <input type="password" class="form-control" id="ConsmerPass" maxlength="10" placeholder="Enter Password">
                                </div>
                                <div class="form-group">
                                    <input type="password" class="form-control" id="ConsmerCnfPass" maxlength="10" placeholder="Confirm Password">
                                </div>
                                <!--<div class="form-group">
                                <input type="text" class="form-control" id="ConsmerAddress" placeholder="Address">
                            </div>
                            <!--<div class="form-group">
                                <input type="text" class="form-control" id="ConsmerAddress" placeholder="Address">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="ConsmerZipcode" placeholder="Enter Zipcode">
                            </div>
                            <div class="form-group">
                                Upload Photo      <input type="file" id="consumerFileUpload" />
                            </div>-->

                                <div class="form-group text-right">
                                    <div class="input-group-btn">
                                        <input id="btnconsumerSave" type="button" class="btn btn-danger" value="Submit" />
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="modal fade" id="choose" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel"> <span> Would you Like to advertise </span>  </h4>
                    </div>
                    <div class="modal-body form-horizontal">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="form-group text-center">
                                <div class="btn-group">
                                    <button class="btn btn-success" data-toggle="modal" id="btnYes" data-dismiss="modal" data-target="#associate-signup"> Yes  </button>
                                    <button class="btn btn-warning" data-toggle="modal" id="btnNo" data-dismiss="modal" data-target="#consumer-signup"> No  </button>
                                    <label style="visibility: hidden" for="lblRowId"></label>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#CouponCode").hide();
            $("#coponApply").hide();
            //$('#myModal').modal({ backdrop: 'static', keyboard: false })
            //$('#associate-signup').modal({ backdrop: 'static', keyboard: false })
            $("#coponc").click(function () {
                $("#coponApply").show();
                $("#coponc").hide();
                $("#CouponCode").show();
            });
            $("#coponApply").click(function () {
                var CouponCode1 = CouponCode.value;
                $.ajax({
                    type: "POST", url: "ws/CouponCode.asmx/ApplyCouponCode", data: "{'CouponCode':'" + CouponCode1 + "'}", contentType: "application/json; charset=utf-8", dataType: "json", async: false,
                    success: function (r) {
                        var xmlDoc = $.parseXML(r.d);
                        var xml = $(xmlDoc);
                        var docs = xml.find("ccsign");
                        $.each(docs, function (i, docs) {
                            var ccode = $(docs).find("CouponCode").text();
                            if (ccode == CouponCode1) {
                                $("label[for='lblcouponCode']").text(CouponCode1);
                                $("label[for='lblDiscount']").text($(docs).find("Discount").text());
                                $("label[for='lblDuration']").text($(docs).find("Duration").text());
                                $('#CouponCode').attr('readonly', true);
                                alert("Coupon Code Applied");
                            }
                            else {
                                alert("incorrect coupon code");
                            }
                        });
                    }
                });
            });
            BindCountry();
            var ca = GetParameterValues('ca');
            function GetParameterValues(param) {
                var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
                for (var i = 0; i < url.length; i++) {
                    var urlparam = url[i].split('=');
                    if (urlparam[0] == param) {
                        return urlparam[1];
                    }
                }
            }
            $.ajax({
                type: "POST", url: "ws/ConsumerRegistration.asmx/ConsumerIsLogin", data: "{}", contentType: "application/json; charset=utf-8", dataType: "json", async: false,
                success: function (r) {
                    if (r.d > 0) {
                        if (ca == "0") {
                            BindConsumerDetail();
                            $("#divconsumer").show();
                            $("#divaccount").hide();
                        }
                        else {
                            BindAssociateDetail();
                            $("#divconsumer").hide();
                            $("#divaccount").show();
                        }                       
                        
                    }
                    else {                      
                        $("#divconsumer").hide();
                        $("#divaccount").show();
                    }
                }
            });

            
            $("#btnLogout").click(function () {
                $.ajax({
                    type: "POST",
                    url: "ws/AssociateSignUp.ashx?action=ConsumerLogout",
                    data: "{}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    cache: false,
                    success: function (response) {
                        if (response == "0") {
                            window.location.href = 'index.html';
                        }
                        else {
                            alert("OOPS Something goes wrong !");
                        }
                    },
                    failure: function (response) {
                        alert(response.d + "Fail");
                    },
                    error: function (response) {
                        alert(response.d + "Error...");
                    }
                });
            });
            $("#btnMyProfile").click(function () {
                window.location.href = "MyProfile.html?ca=0";

            });
            $("#btnMyHistory").click(function () {
                window.location.href = "ConsumerHistory.html?ca=0";

            });
            function BindAssociateDetail() {
                $.ajax({
                    type: "POST", url: "ws/AssociateRegistration.asmx/ViewAssociateBasicDetails", data: "{}", contentType: "application/json; charset=utf-8", dataType: "json", async: false,
                    success: function (r) {
                        if (r.d.length > 0) {
                            var xmlDoc = $.parseXML(r.d);
                            var xml = $(xmlDoc);
                            var docs = xml.find("ViewAssociateBasicDetail");
                            var cartd = [];
                            $.each(docs, function (i, docs) {
                                cartd.push("<h3>");
                                cartd.push("<span style='font-family:Verdana; font-size:30px; color:blue;'> " + ($(docs).find("FullName").text()) + "</span>");
                                cartd.push("</h3>");
                            });

                            $("#Name").html(cartd.join(''));
                        }
                    },
                    failure: function (response) {
                        alert(response.d + "Fail");
                    },
                    error: function (response) {
                        alert(response.d + "Error...");
                    }
                });
            }
            function BindConsumerDetail() {
                $.ajax({
                    type: "POST", url: "ws/ConsumerRegistration.asmx/ConsumerDetail", data: "{}", contentType: "application/json; charset=utf-8", dataType: "json", async: false,
                    success: function (r) {
                        if (r.d.length > 0) {
                            var xmlDoc = $.parseXML(r.d);
                            var xml = $(xmlDoc);
                            var docs = xml.find("FullConsumerDetail");
                            var cartd = [];
                            $.each(docs, function (i, docs) {
                                cartd.push("<h3> ");
                                cartd.push("<span style='font-family:Verdana; font-size:20px; color:blue;'>" + ($(docs).find("name").text()) + "</span>");
                                cartd.push("</h3>");
                            });
                            $("#Name").html(cartd.join(''));
                            $("#Name").show();
                            $("#dlogo").hide();
                        }
                    },
                    failure: function (response) {
                        alert(response.d + "Fail");
                    },
                    error: function (response) {
                        alert(response.d + "Error...");
                    }
                });
            }
            $("#btnFstStep").click(function () {
                var check = Valid();
                if (check == "1") {
                    var cc = $("label[for='lblcouponCode']").text();
                    var dd = $("label[for='lblDiscount']").text();
                    var dt = $("label[for='lblDuration']").text();
                    var FullName = FirstName.value;
                    var LName = "0";//lstName.value;
                    var emailID = emailAddress.value;
                    var username = "0";//userID.value;
                    var password = passwrd.value;
                    var mobileNo = "0";//mobile.value;
                    var ZipCode = "0";//zipcode.value;
                    var licenseState = "0";//licenceState.value;
                    var licenseID = "0";// licenceID.value;
                    //var fileUpload = $("#FileUploadAssociate").get(0);
                    //var files = fileUpload.files;
                    var RefID = 0;
                    //var test = new FormData();
                    //for (var i = 0; i < files.length; i++) {
                    //    test.append(files[i].name, files[i], mobileNo);
                    //}
                    $.ajax({
                        url: "ws/AssociateSignUp.ashx?action=AssociateData&FullName=" + FullName + "&LastName=" + LName + "&EmailID=" + emailID + "&UserName=" + username + "&Password=" + password + "&MobileNo=" + mobileNo + "&ZipCode=" + ZipCode + "&LicenseState=" + licenseState + "&LicenseID=" + licenseID + "&Coupcd=" + cc + "&dur=" + dt + "&ddt=" + dd + "&ReferralID=" + RefID + "",
                        //data: test,
                        data: "",
                        contentType: false,
                        processData: false,
                        dataType: "json",
                        async: false,
                        type: "POST",
                        cache: false,
                        success: function (response) {
                            if (response >= 1) {
                                $("label[for='lblAssociateID']").text(response);
                                //BindSalesCategory();
                                //$("#step-2").show();
                                //$("#step-1").hide();
                                window.location.href = 'Associate/Index.aspx';
                            }
                            if (response == "0") {
                                alert("This Email Id or User name or Mobile No Already Exists! Please Try another one..");
                            }
                            if (response == "-1") {
                                alert("OOPS Error ! Please try again.");
                            }
                        },
                        failure: function (response) {
                            alert(response + "Fail");
                        },
                        error: function (response) {
                            alert(response + "Error...");
                        }
                    });
                }
                else {
                    alert(check);
                }
            });
            $("#btnSndStep").click(function () {
                var teamlist = [];
                var zipcodelist = [];
                $("#divCategory  input[id*='chk']:checked").each(function () {
                    teamlist.push($(this).val());
                    zipcodelist.push(0);
                });
                $.ajax({
                    type: "POST",
                    url: "Associate/ws/CategoryPurchase.asmx/InsertCategory",
                    data: "{'SubcategoryID':'" + teamlist + "','PlanID':1,'zipcodeID':'" + zipcodelist + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    cache: false,
                    success: function (r) {
                        if (r.d == "1") {
                            cardFname.value = FirstName.value;
                            cardLastname.value = LastName.value;
                            cardzipcode.value = zipcode.value;
                            $("#step-2").hide();
                            $("#step-3").show();
                        }
                        if (r.d == "0") {
                            alert("OOPS Something goes wrong ! Please purchase categories from Associate Dashboard after Login.");
                        }
                        if (r.d == "3") {
                            alert("OOPS Something goes wrong ! Please purchase categories from Associate Dashboard after Login.");
                        }
                    },
                    failure: function (response) {
                        alert(response.d + "Fail");
                    },
                    error: function (response) {
                        alert(response.d + "Error...");
                    }
                });
            });
            $("#btnThirdStep").click(function () {
                var CardNumber = txtCreditCard.value;
                var Cardholder_FirstName = cardFname.value;
                var Cardholder_LastName = cardLastname.value;
                var Cardholder_Address = Cardaddress.value;
                //var Cardholder_City = cardCity.value;
                //var Cardholder_State = cardState.value;
                //var Cardholder_Country = cardCountry.value;
                var Cardholder_City = $('#cardCity :selected').text();
                var Cardholder_State = $('#cardState :selected').text();
                var Cardholder_Country = $('#cardCountry :selected').text();
                var Cardholder_Zip = cardzipcode.value;
                var cvv = txtCvv.value;
                var ExpMonth = ddlMonth.value;
                var ExpYear = ddlYear.value;
                var CardType = "Credit";
                var EmailId = emailAddress.value;
                var TotalAmount = lblToalAmountV.value;
                $.ajax({
                    url: "ws/AssociateSignUp.ashx?action=CardData&CardNumber=" + CardNumber + "&Cardholder_FirstName=" + Cardholder_FirstName + "&Cardholder_LastName=" + Cardholder_LastName + "&Cardholder_Address=" + Cardholder_Address + "&Cardholder_City=" + Cardholder_City + "&Cardholder_State=" + Cardholder_State + "&Cardholder_Country=" + Cardholder_Country + "&Cardholder_Zip=" + Cardholder_Zip + "&cvv=" + cvv + "&ExpMonth=" + ExpMonth + "&ExpYear=" + ExpYear + "&CardType=" + CardType + "&email=" + EmailId + "&totalamount=" + TotalAmount + "",
                    data: {},
                    contentType: false,
                    processData: false,
                    dataType: "json",
                    async: false,
                    type: "POST",
                    cache: false,
                    success: function (response) {
                        if (response == 1) {
                            alert("This Email Id or User name or Mobile No Already Exists! Please Try another one..");
                        }
                        if (response == "0") {
                            window.location.href = 'Associate/Index.aspx';
                        }
                        if (response == "-1") {
                            alert("Duplicate Card Number does not allowed.");
                        }
                    },
                    failure: function (response) {
                        alert(response + "Fail");
                    },
                    error: function (response) {
                        alert(response + "Error...");
                    }
                });
            });

            $("#btnLogin").click(function (e) {
                var uname = username.value;
                var pass = password.value;
                var s = UserTypeValid();
                if (s == "1") {
                    $.ajax({
                        type: "POST",
                        url: "ws/AssociateSignUp.ashx?action=AssociateLog&EmailID=" + uname + "&Password=" + pass + "",
                        data: "{}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        cache: false,
                        success: function (response) {
                            if (response > "0") {
                                //  window.location.reload();
                                window.location.href = 'Associate/Index.aspx';
                            }
                            else if (response == 'Invalid') {
                                alert("OOPS Something goes wrong !");
                                window.location.reload();
                            }
                            else {
                                alert("Wrong Authentication");
                                 window.location.reload();
                            }
                        },
                        failure: function (response) {
                            alert(response.d + "Fail");
                            window.location.reload();
                        },
                        error: function (response) {
                            alert(response.d + "Error...");
                            window.location.reload();
                        }
                    });
                }
                else if (s == "2") {
                    $.ajax({
                        type: "POST",
                        url: "ws/AssociateSignUp.ashx?action=ConsumerLog&EmailID=" + uname + "&Password=" + pass + "",
                        data: "{}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        cache: false,
                        success: function (response) {
                            if (response > "0") {
                                window.location.reload();
                                // window.location.href = 'index.html';
                            }
                            else if (response == 'Invalid') {
                                alert("OOPS Something goes wrong !");
                                window.location.reload();
                            }
                            else {

                                alert("Wrong Authentication");
                                window.location.reload();
                            }
                        },
                        failure: function (response) {
                            alert(response.d + "Fail");
                            window.location.reload();
                        },
                        error: function (response) {
                            alert(response.d + "Error...");
                            window.location.reload();
                        }
                    });
                }
                else if (s == "0") {

                    alert("Please Select One of the User Type");
                    window.location.reload();

                }
                $("#choose-login").hide();
                e.preventDefault();
                //this.btnLogin();

            });
            var navListItems = $('div.setup-panel div a'),
                    allWells = $('.setup-content'),
                    allNextBtn = $('.nextBtn');
            allWells.hide();
            navListItems.click(function (e) {
                e.preventDefault();
                var $target = $($(this).attr('href')),
                        $item = $(this);

                if (!$item.hasClass('disabled')) {
                    navListItems.removeClass('btn-primary').addClass('btn-default');
                    $item.addClass('btn-primary');
                    allWells.hide();
                    $target.show();
                    $target.find('input:eq(0)').focus();
                }
            });
            allNextBtn.click(function () {
                var curStep = $(this).closest(".setup-content"),
                    curStepBtn = curStep.attr("id"),
                    nextStepWizard = $('div.setup-panel div a[href="#' + curStepBtn + '"]').parent().next().children("a"),
                    curInputs = curStep.find("input[type='text'],input[type='url']"),
                    isValid = true;

                $(".form-group").removeClass("has-error");
                for (var i = 0; i < curInputs.length; i++) {
                    if (!curInputs[i].validity.valid) {
                        isValid = false;
                        $(curInputs[i]).closest(".form-group").addClass("has-error");
                    }
                }

                if (isValid)
                    nextStepWizard.removeAttr('disabled').trigger('click');
            });
            $('div.setup-panel div a.btn-primary').trigger('click');

            function ConsumerValid() {
                var returnValue;
                var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
                if (ConsmerName.value == "") {
                    returnValue = "Name required";
                    $("#ConsmerName").focus();
                }
                    //else if (ConsmerMob.value == "") {
                    //    returnValue = "Mobile No Required";
                    //    $("#ConsmerMob").focus();
                    //}
                    //else if (!$.isNumeric(ConsmerMob.value)) {
                    //    returnValue = "Mobile no is Not Valid";
                    //    $("#ConsmerMob").focus();
                    //}

                else if (!filter.test($('#ConsmerEmail').val())) {
                    returnValue = "Email is not Valid";
                    $("#ConsmerEmail").focus();
                }
                else if (ConsmerPass.value == "") {
                    returnValue = "Password is Required";
                    $("#ConsmerPass").focus();
                }
                else if (ConsmerCnfPass.value != ConsmerPass.value) {
                    returnValue = "Password does not match";
                    $("#passwrd").focus();
                }
                else {
                    returnValue = "1";
                }
                return returnValue;
            }
            function UserTypeValid() {
                var radioValue = $("input[name='associate']:checked").val();
                if (radioValue == "Associate") {
                    returnValue = "1";
                }
                else if (radioValue == "consumer") {
                    returnValue = "2";
                }
                else {
                    returnValue = "0";
                }
                return returnValue;
            }
            $("#btnconsumerSave").click(function () {
                var check = ConsumerValid();
                if (check == "1") {
                    var FullName = ConsmerName.value;
                    var mobileNo = "0";//ConsmerMob.value;
                    var emailID = ConsmerEmail.value;
                    var password = ConsmerPass.value;
                    var Address = "0";//ConsmerAddress.value;
                    var ZipCode = "0";//ConsmerZipcode.value;
                    //var fileUpload = $("#consumerFileUpload").get(0);
                    //var files = fileUpload.files;
                    //var test = new FormData();
                    //for (var i = 0; i < files.length; i++) {
                    //    test.append(files[i].name, files[i], mobileNo);
                    //}
                    $.ajax({
                        url: "ws/AssociateSignUp.ashx?action=Consumer&Name=" + FullName + "&mob=" + mobileNo + "&EmailID=" + emailID + "&Password=" + password + "&address=" + Address + "&ZipCode=" + ZipCode + "",
                        // data: test,
                        data: "",
                        contentType: false,
                        processData: false,
                        dataType: "json",
                        async: false,
                        type: "POST",
                        cache: false,
                        success: function (response) {
                            if (response >= 1) {
                                //alert("Register Successfully");
                                window.location.href = 'index.html';
                            }
                            if (response == "0") {
                                alert("This Email Id or User name or Mobile No Already Exists! Please Try another one..");
                            }
                            if (response == "-1") {
                                alert("OOPS Error ! Please try again.");
                            }
                        },
                        failure: function (response) {
                            alert(response + "Fail");
                        },
                        error: function (response) {
                            alert(response + "Error...");
                        }
                    });
                }
                else {
                    alert(check);
                }
            });
        });

        
        function Valid() {
            var returnValue;
            var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
            if (FirstName.value == "") {
                returnValue = "Name required";
                $("#FirstName").focus();
            }
                //else if (mobile.value == "") {
                //    returnValue = "Mobile No Required";
                //    $("#mobile").focus();
                //}
                //else if (!$.isNumeric(mobile.value)) {
                //    returnValue = "Mobile no is Not Valid";
                //    $("#mobile").focus();
                //}
            else if (emailAddress.value == "") {
                returnValue = "Email is Required";
                $("#emailAddress").focus();
            }
            else if (!filter.test($('#emailAddress').val())) {
                returnValue = "Email is not Valid";
                $("#emailAddress").focus();
            }
            else if (passwrd.value == "") {
                returnValue = "Password is Required";
                $("#passwrd").focus();
            }
            else if (passwrd.value != Cpassword.value) {
                returnValue = "Password does not match";
                $("#passwrd").focus();
            }
            else {
                returnValue = "1";
            }
            return returnValue;
        }
        function BindCountry() {
            $.ajax({
                type: "POST", url: "Associate/ws/Country.asmx/SelectCountry", data: "{'flag':'1'}", contentType: "application/json; charset=utf-8", dataType: "json", async: false,
                success: function (r) {
                    if (r.d.length > 0) {
                        var xmlDoc = $.parseXML(r.d);
                        var xml = $(xmlDoc);
                        var docs = xml.find("Countries");
                        var cartd = [];
                        cartd.push("<option value=0>Select Country</option>")
                        $.each(docs, function (i, docs) {
                            cartd.push(" <option value='" + $(docs).find("id").text() + "'>" + $(docs).find("Name").text() + "</option>");
                        });
                        $("#cardCountry").html(cartd.join(''));
                    }
                },
                failure: function (response) {
                    alert(response.d + "Fail");
                },
                error: function (response) {
                    alert(response.d + "Error...");
                }
            });
        }
        function BindSalesCategory() {
            $.ajax({
                type: "POST", url: "Associate/ws/Category.asmx/AvailableSalesCategory", data: "{'jobtype':'1','zip':'0'}", contentType: "application/json; charset=utf-8", dataType: "json", async: false,
                success: function (r) {
                    if (r.d.length > 0) {
                        var xmlDoc = $.parseXML(r.d);
                        var xml = $(xmlDoc);
                        var docs = xml.find("AvailSalesCategories");
                        var cartd = [];
                        var totalAmount = 0;
                        cartd.push("<div class='funkyradio'>");
                        $.each(docs, function (i, docs) {
                            cartd.push("<div id='divfunky' class='funkyradio-default'>");
                            cartd.push("<input type='checkbox'  checked=''  id='chk'  value='" + ($(docs).find("CateID").text()) + "' name='checkbox'/>");
                            cartd.push("<label for=" + ($(docs).find("CateID").text()) + ">" + ($(docs).find("CategoryName").text() + " </label>"));
                            cartd.push(" </div>");
                            totalAmount = totalAmount + 5;
                        });
                        cartd.push(" </div>");
                        $("#divCategory").html(cartd.join(''));
                        $("label[for='lblToalAmount']").text("Total Amount:-" + totalAmount + "$");
                        lblToalAmountV.value = totalAmount;
                    }
                },
                failure: function (response) {
                    alert(response.d + "Fail");
                },
                error: function (response) {
                    alert(response.d + "Error...");
                }
            });
        }
        function BindState() {
            $("#cardCity").empty();
            var CountryId = cardCountry.value;
            $.ajax({
                type: "POST", url: "Associate/ws/State.asmx/CountryWiseState", data: "{'Status':'1','CountryID':'" + CountryId + "'}", contentType: "application/json; charset=utf-8", dataType: "json", async: false,
                success: function (r) {
                    if (r.d.length > 0) {
                        var xmlDoc = $.parseXML(r.d);
                        var xml = $(xmlDoc);
                        var docs = xml.find("States1");
                        var cartd = [];
                        cartd.push("<option value=0>Select State</option>")
                        $.each(docs, function (i, docs) {
                            cartd.push(" <option value='" + $(docs).find("id").text() + "'>" + $(docs).find("Name").text() + "</option>");
                        });
                        $("#cardState").html(cartd.join(''));
                    }
                },
                failure: function (response) {
                    alert(response.d + "Fail");
                },
                error: function (response) {
                    alert(response.d + "Error...");
                }
            });
        }
        function BindCity() {
            var StateId = cardState.value;
            $.ajax({
                type: "POST", url: "Associate/ws/City.asmx/StateWisecity", data: "{'Status':'1','StateID':'" + StateId + "'}", contentType: "application/json; charset=utf-8", dataType: "json", async: false,
                success: function (r) {
                    if (r.d.length > 0) {
                        var xmlDoc = $.parseXML(r.d);
                        var xml = $(xmlDoc);
                        var docs = xml.find("StateWiseCities");
                        var cartd = [];
                        cartd.push("<option value=0>Select City</option>")
                        $.each(docs, function (i, docs) {
                            cartd.push(" <option value='" + $(docs).find("id").text() + "'>" + $(docs).find("Name").text() + "</option>");
                        });
                        $("#cardCity").html(cartd.join(''));
                    }
                },
                failure: function (response) {
                    alert(response.d + "Fail");
                },
                error: function (response) {
                    alert(response.d + "Error...");
                }
            });
        }
        $(function () {
            $("#cardCountry").change(function () {
                BindState();
            });
        });
        $(function () {
            $("#cardState").change(function () {
                BindCity();
            });
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            var windowHeight = $(window).height() - 200;
            $('.outer-middle').css('height', windowHeight);
        });
        $(window).resize(function () {
            var windowHeight = $(window).height() - 200;
            $('.outer-middle').css('height', windowHeight);
        });
    </script>

</body>
</html>

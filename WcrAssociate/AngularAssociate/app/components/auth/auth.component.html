<div class="auth-page">
    <div class="container page">
        <div class="row mg-t-50">
            <div class="col-md-5 offset-md-3 col-xs-12 card pd-t-40 pd-b-90 pd-l-20 pd-r-20 mg-t-30 div-center">
                <div class="row">
                    <h1 class="text-xs-center">{{ title }}</h1>
                    <div class="col-lg-12 col-md-12 col-sm-12 mg-b-20 col-xs-12" style="text-align:center;">
                        <div class="loader-wrap" id="LoadingImageLogin" [hidden]="!isSubmitting">
                            <div class="loader"><span class="loader-item"></span><span class="loader-item"></span><span class="loader-item"></span><span class="loader-item"></span><span class="loader-item"></span><span class="loader-item"></span><span class="loader-item"></span><span class="loader-item"></span><span class="loader-item"></span><span class="loader-item"></span></div>
                        </div>
                    </div>
                    <p class="text-xs-center">
                        <a [routerLink]="['/login']" *ngIf="authType == 'login'" class="green-text text-darken-1">Don't have an account? Sign up now!</a>
                        <a [routerLink]="['/register']" *ngIf="authType == 'register'" class="green-text text-darken-1">Already have an account? Sign in!</a>
                    </p>
                    <form [formGroup]="authForm" (ngSubmit)="submitForm()">
                        <fieldset [disabled]="isSubmitting">

                            <div class="form-group" [ngClass]="{'has-error': formErrors.activationCode}"
                                 *ngIf="authType == 'activate'">
                                <div class="col-sm-12 mg-b-20">
                                    <input id="activationCode" type="text" class="form-control pd-l-45-force" formControlName="activationCode" (blur)="logValidationErrors()">
                                    <div class="invalid-data" *ngIf="formErrors.activationCode">
                                        {{formErrors.activationCode}}
                                    </div>
                                    <span class="text-teal text-darken-4" *ngIf="authType == 'activate'" [style.display]="activationSent ? 'block':'none'">Activation code has been send to your registered Email.</span>
                                    <span class="text-teal text-darken-4" *ngIf="authType == 'activate'" [style.display]="resentCode ? 'block':'none'">
                                        Activation code was sent to the Email address that was supplied for this account
                                    </span>
                                </div>
                            </div>

                            <div class="form-group" *ngIf="authType == 'activate'">
                                <span class="invalid-data" *ngIf="formErrors.loginCredentials">
                                    Resend New Activation Code: <button (click)="onClickResendVerificationCode()">Resend</button>
                                    If you experience problems activating your account,
                                    please forward your activation code email to support@wcrnational.com
                                    Our support team will complete your account activation within 24-48 hours.
                                </span>
                            </div>

                            <div class="form-group">
                                <span [style.display]="resetPassword ? 'block':'none'">
                                    Please check your registered emailID for new password.
                                </span>
                            </div>

                            <div class="form-group" [ngClass]="{'has-error': formErrors.email}"
                                 *ngIf="(authType == 'register' || authType == 'login' || authType == 'activate' || authType == 'resetPassword')"
                                 [style.display]="resetPassword ? 'none': 'block'">

                                <div class="col-sm-12 mg-b-20">
                                    <!--(blur)="showPreloaderIcon();"-->
                                    <input id="email" type="text" class="form-control pd-l-45-force" formControlName="email" placeholder="Email"><span class="fa fa-user form-control-feedback"></span>

                                    <div class="preloader-wrapper preloader-wrapper-input small active"
                                         *ngIf="(authType == 'register')">
                                        <div class="spinner-layer spinner-green-only"
                                             [style.display]="showOnValidateEmail ? 'block': 'none'">
                                            <div class="circle-clipper left">
                                                <div class="circle"></div>
                                            </div><div class="gap-patch">
                                                <div class="circle"></div>
                                            </div><div class="circle-clipper right">
                                                <div class="circle"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 pd-l-0-force" *ngIf="formErrors.email">
                                        {{formErrors.email}}
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12 pd-l-0-force pd-r-0-force">
                                <div formGroupName="passwordGroup">
                                    <div class="col-sm-12" *ngIf="authType == 'login'">
                                        <a [routerLink]="['/resetPassword']" class="text-xs-left blue-text text-darken-3"> <i class="fa fa-key"></i>Forgot password</a>
                                    </div>
                                    <div class="form-group" [ngClass]="{'has-error': formErrors.password}"
                                         *ngIf="(authType == 'register' || authType == 'login' ) ">
                                        <div class="col-sm-12  mg-b-20" >
                                            <input id="password" placeholder="Password" type="password" class="form-control pd-l-45-force" formControlName="password" (focus)="showErrors()" (focusout)="hideErrors()"  
                                                   autocomplete="new-password">
                                            <span class="fa fa-lock form-control-feedback"></span>

                                            <div class="col-sm-12" *ngIf="(authType == 'register')" [style.display]="showErrorsPassword ? 'block':'none'">
                                                <label class="col" [ngClass]="authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('minlength')  ? 'text-danger' : 'text-success'">
                                                    <i class="material-icons">
                                                        {{ authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('minlength') ? 'cancel' :  'check_circle' }}
                                                    </i>
                                                    Must be at least 8 characters!
                                                </label>
                                                <label class="col" [ngClass]="authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('maxlength')  ? 'text-danger' : 'text-success'">
                                                    <i class="material-icons">
                                                        {{ authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('maxlength') ? 'cancel' :  'check_circle' }}
                                                    </i>
                                                    Must be less than 20 characters!
                                                </label>
                                                <label class="col" [ngClass]="authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('number')  ? 'text-danger' : 'text-success'">
                                                    <i class="material-icons">
                                                        {{ authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('number') ? 'cancel' : 'check_circle'}}
                                                    </i>
                                                    Must contain at least 1 number!
                                                </label>
                                                <label class="col" [ngClass]="authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('upperLetter')  ? 'text-danger' : 'text-success'">
                                                    <i class="material-icons">
                                                        {{ authForm.controls['passwordGroup'].controls['password'].hasError('required') ||  authForm.controls['passwordGroup'].controls['password'].hasError('upperLetter') ? 'cancel' :  'check_circle'   }}
                                                    </i>
                                                    Must contain at least 1 in Capital Case!
                                                </label>
                                                <label class="col" [ngClass]="authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('lowerLetter')  ? 'text-danger' : 'text-success'">
                                                    <i class="material-icons">
                                                        {{ authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('lowerLetter') ? 'cancel' :  'check_circle'  }}
                                                    </i>
                                                    Must contain at least 1 Letter in Small Case!
                                                </label>

                                                <label class="col" [ngClass]="authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('hasSpecialCharacters') ? 'text-danger' : 'text-success'">
                                                    <i class="material-icons">
                                                        {{ authForm.controls['passwordGroup'].controls['password'].hasError('required') || authForm.controls['passwordGroup'].controls['password'].hasError('hasSpecialCharacters') ? 'cancel' : 'check_circle' }}
                                                    </i>
                                                    Must contain at least 1 Special Character!
                                                </label>
                                                <!--<div class="col-sm-12 pd-l-0-force" *ngIf="formErrors.password">
                                                    {{formErrors.password}}
                                                </div>-->

                                            </div>

                                        </div>
                                    </div>

                                    <div class="form-group" [ngClass]="{'has-error': formErrors.confirmPassword || formErrors.passwordGroup}"
                                         *ngIf="(authType == 'register') ">
                                        <div class="col-sm-12 mg-b-20">
                                            <input id="confirmPassword" type="password" class="form-control pd-l-45-force"
                                                   formControlName="confirmPassword" (blur)="logValidationErrors()" placeholder="Confirm Password" autocomplete="new-password">
                                            <span class="fa fa-lock form-control-feedback"></span>

                                            <div class="col-sm-12 pd-l-0-force"
                                                 *ngIf="formErrors.confirmPassword || formErrors.passwordGroup">
                                                {{  formErrors.confirmPassword ? formErrors.confirmPassword : formErrors.passwordGroup  }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12 pd-l-0-force pd-r-0-force">
                                <div class="form-group" [ngClass]="{'has-error': formErrors.associate}" *ngIf="authType == 'register'  ">
                                    <div class="col-sm-12 mg-b-20">
                                        <label>
                                            <input type="checkbox" class="filled-in" formControlName="associate" (blur)="logValidationErrors()" checked="checked" />
                                            <span>Yes- I want to advertise</span>
                                        </label>
                                        <div class="col-sm-12 pd-l-0-force" *ngIf="formErrors.associate">
                                            {{formErrors.associate}}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12 pd-l-0-force pd-r-0-force">
                                <div class="form-group" [ngClass]="{'has-error': formErrors.consumer}" *ngIf="authType == 'register'  ">
                                    <div class="col-sm-12 mg-b-20">
                                        <label>
                                            <input type="checkbox" class="filled-in" formControlName="consumer" (blur)="logValidationErrors()" checked="checked" />
                                            <span>No- I do not</span>
                                        </label>
                                        <div class="invalid-data" *ngIf="formErrors.consumer">
                                            {{formErrors.consumer}}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12 pd-l-0-force pd-r-0-force">
                                <div class="form-group" [ngClass]="{'has-error': formErrors.terms}" *ngIf="(authType == 'register') ">
                                    <div class="col-sm-12 mg-b-20">
                                        <label>
                                            <input type="checkbox" class="filled-in" formControlName="terms" (blur)="logValidationErrors()" checked="checked" />
                                            <span>I agree with terms and conditions<a></a></span>
                                        </label>
                                        <div class="invalid-data" *ngIf="formErrors.terms">
                                            {{formErrors.terms}}
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-sm-12 pd-l-0-force pd-r-0-force">
                                <div class="form-group" *ngIf="authType == 'login'">
                                    <div class="invalid-data" *ngIf="formErrors.credentials">
                                        {{formErrors.loginCredentials}}
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12 pd-l-0-force pd-r-0-force">
                                <div class="form-group">
                                    <div class="col-sm-12 mg-b-20">
                                        <button style="position:relative; width:100%;" class="btn btn-lg btn-primary pull-xs-right form-submit-button" *ngIf="(authType == 'register')" type="submit" [disabled]="!FormFilledSuccessfully">
                                            <span [style.display]="!isSubmitting ? 'block': 'none'">CREATE AN ACCOUNT</span>
                                            <div class="preloader-wrapper preloader-wrapper-button small active" [style.display]="isSubmitting ? 'block': 'none'">
                                                <div class="spinner-layer spinner-white-only">
                                                    <div class="circle-clipper left">
                                                        <div class="circle"></div>
                                                    </div><div class="gap-patch">
                                                        <div class="circle"></div>
                                                    </div><div class="circle-clipper right">
                                                        <div class="circle"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </button>

                                        <button style="position:relative; width:100%;" class="btn btn-lg btn-primary pull-xs-right form-submit-button" *ngIf="(authType == 'login')" type="submit" [disabled]="!authForm.valid ">
                                            <span [style.display]="!isSubmitting ? 'block': 'none' " (click)="submitLoginForm()">SIGN TO MY ACCOUNT</span>
                                            <div class="preloader-wrapper preloader-wrapper-button small active" [style.display]="isSubmitting ? 'block': 'none'">
                                                <div class="spinner-layer spinner-white-only">
                                                    <div class="circle-clipper left">
                                                        <div class="circle"></div>
                                                    </div><div class="gap-patch">
                                                        <div class="circle"></div>
                                                    </div><div class="circle-clipper right">
                                                        <div class="circle"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </button>

                                        <button class="btn btn-lg btn-primary pull-xs-right form-submit-button" *ngIf="(authType == 'activate')" type="submit" [disabled]="!authForm.valid">
                                            <span [style.display]="!isSubmitting ? 'block': 'none'">VERIFY</span>
                                            <div class="preloader-wrapper preloader-wrapper-button small active" [style.display]="isSubmitting ? 'block': 'none'">
                                                <div class="spinner-layer spinner-white-only">
                                                    <div class="circle-clipper left">
                                                        <div class="circle"></div>
                                                    </div><div class="gap-patch">
                                                        <div class="circle"></div>
                                                    </div><div class="circle-clipper right">
                                                        <div class="circle"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </button>

                                        <button class="btn btn-lg btn-primary pull-xs-right form-submit-button" *ngIf="(authType == 'resetPassword')" type="submit" [disabled]="!authForm.valid">
                                            <span [style.display]="!isSubmitting ? 'block': 'none'">RESET PASSWORD</span>
                                            <div class="preloader-wrapper preloader-wrapper-button small active" [style.display]="isSubmitting ? 'block': 'none'">
                                                <div class="spinner-layer spinner-white-only">
                                                    <div class="circle-clipper left">
                                                        <div class="circle"></div>
                                                    </div><div class="gap-patch">
                                                        <div class="circle"></div>
                                                    </div><div class="circle-clipper right">
                                                        <div class="circle"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>

                                </div>
                            </div>

                            <!--  -->


                        </fieldset>
                    </form>
                </div>

                <!--<div class="row mg-t-60 text-center" *ngIf="authType == 'register'">
                    <small>
                        By clicking the "Create an Account" button you agree with our
                        <button [routerLink]="['/resetPassword']" class="btn waves-ripple blue-grey lighten-5 blue-grey-text text-accent-4">Terms And Conditions</button>
                    </small>
                </div>-->
            </div>
        </div>
    </div>
</div>
